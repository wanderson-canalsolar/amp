!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=8)}([function(e,t){e.exports=React},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var o,a=n(28);var r=((o=a)&&o.__esModule?o:{default:o}).default,i=r.canUseDOM?window.HTMLElement:{};t.canUseDOM=r.canUseDOM;t.default=i},function(e,t,n){e.exports=n(22)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(i)};var o=/input|select|textarea|button|object/;function a(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==n.getPropertyValue("display")}function r(e,t){var n=e.nodeName.toLowerCase();return(o.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(a(t))return!1;t=t.parentNode}return!0}(e)}function i(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&r(e,!n)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=l,t.setElement=function(e){var t=e;if("string"===typeof t&&i.canUseDOM){var n=document.querySelectorAll(t);l(n,t),t="length"in n?n[0]:n}return s=t||s},t.validateElement=c,t.hide=function(e){c(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){c(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var o,a=n(27),r=(o=a)&&o.__esModule?o:{default:o},i=n(2);var s=null;function l(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function c(e){return!(!e&&!s)||((0,r.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach(function(n){return n(e,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]};t.default=o,e.exports=t.default},function(e,t,n){n(9),e.exports=n(10)},function(e,t,n){"use strict"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),a=n.n(o),r=n(12),i=n(16);a()(window).on("et_builder_api_ready",function(e,t){t.registerModules(r.a),t.registerModalFields(i.a)})},function(e,t){e.exports=jQuery},function(e,t,n){"use strict";var o=n(13),a=n(14),r=n(15);t.a=[o.a,a.a,r.a]},function(e,t,n){"use strict";var o=n(0),a=n.n(o);function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var l=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).state={categoryId:"root",categoryTitle:"",categoryTheme:"default",categoryFolderTree:!0,isLoaded:!0,loadingCategory:!0,categoryShortcode:""},n}var n,r,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.category_id;if("root"!==e){var t=JSON.parse(e).categoryId;this.fetCategoryShortcode(t)}}},{key:"componentDidUpdate",value:function(e,t,n){var o=this.props.category_id;if("root"!==o){var a=JSON.parse(o).categoryId;t.categoryId.toString()!==a.toString()&&this.fetCategoryShortcode(a)}}},{key:"fetCategoryShortcode",value:function(e){var t=this;this.state.loadingCategory||this.setState({loadingCategory:!0}),fetch(window.et_fb_options.ajaxurl+"?action=wpfd&task=category.getCategoryShortcode&categoryId="+e).then(function(e){return e.json()}).then(function(n){t.setState({categoryId:e,categoryShortcode:n.data,categoryTitle:n.title,categoryTheme:n.theme,loadingCategory:!1})},function(e){t.setState({loadingCategory:!0,error:e})})}},{key:"render",value:function(){var e=this.state,t=e.categoryTheme,n=e.loadingCategory,o=e.categoryShortcode,r=this.props.category_id,i=a.a.createElement("svg",{className:"wpfd-loading",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},a.a.createElement("g",{transform:"translate(25 50)"},a.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.590851 0.590851)"},a.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.8666666666666667s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))),a.a.createElement("g",{transform:"translate(50 50)"},a.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.145187 0.145187)"},a.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.43333333333333335s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))),a.a.createElement("g",{transform:"translate(75 50)"},a.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.0339143 0.0339143)"},a.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"0s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))));return"root"===r?a.a.createElement("div",{className:"wpfd-divi-category-container"},a.a.createElement("div",{id:"divi-category-placeholder",className:"divi-category-placeholder"},a.a.createElement("span",{className:"category-message"},"Please select a WP File Download content to activate the preview"))):a.a.createElement("div",{className:"wpfd-divi-category-container wpfd-category-theme-".concat(t)},n&&a.a.createElement("div",{className:"wpfd-loading-wrapper"},a.a.createElement("i",{className:"wpfd-loading"},i)),!n&&a.a.createElement("div",{dangerouslySetInnerHTML:{__html:o}}))}}])&&i(n.prototype,r),l&&i(n,l),t}();Object.defineProperty(l,"slug",{configurable:!0,enumerable:!0,writable:!0,value:"divi_wpfd_file_category"}),t.a=l},function(e,t,n){"use strict";var o=n(0),a=n.n(o);function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var l=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).state={file_id:"root",category_id:"",category_title:"",fileLoading:!0,fileInfo:"",error:!1},n}var n,r,l;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){if("root"!==this.props.file_params){var e=JSON.parse(this.props.file_params),t=e.selected_file_id,n=e.selected_category_id;this.fetFileShortcode(t,n)}}},{key:"componentDidUpdate",value:function(e,t,n){if("root"!==this.props.file_params){var o=JSON.parse(this.props.file_params),a=o.selected_file_id,r=o.selected_category_id;t.file_id.toString()!==a.toString()&&this.fetFileShortcode(a,r)}}},{key:"fetFileShortcode",value:function(e,t){var n=this,o=window.et_fb_options.ajaxurl+"?action=wpfd&task=file.callFileShortcode&file_id=".concat(e,"&category_id=").concat(t);e&&t&&setTimeout(function(){n.state.fileLoading||n.setState({fileLoading:!0}),fetch(o).then(function(e){return e.json()}).then(function(t){!1===t.success?n.setState({fileLoading:!1,fileError:!0}):n.setState({file_id:e,fileInfo:t.data,fileLoading:!1})}).catch(function(e){n.setState({fileLoading:!1,error:!0})})},500)}},{key:"render",value:function(){var e=this.props.file_params,t=this.state.fileLoading,n=a.a.createElement("svg",{className:"wpfd-loading",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},a.a.createElement("g",{transform:"translate(25 50)"},a.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.590851 0.590851)"},a.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.8666666666666667s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))),a.a.createElement("g",{transform:"translate(50 50)"},a.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.145187 0.145187)"},a.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.43333333333333335s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))),a.a.createElement("g",{transform:"translate(75 50)"},a.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.0339143 0.0339143)"},a.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"0s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))));return"root"===e?a.a.createElement("div",{className:"divi-file-container"},a.a.createElement("div",{id:"divi-single-file-placeholder",className:"divi-single-file-placeholder"},a.a.createElement("span",{className:"file-message"},"Please select a WP File Download content to activate the preview"))):a.a.createElement("div",{className:"divi-file-container"},t&&a.a.createElement("div",{className:"wpfd-loading-wrapper"},a.a.createElement("i",{className:"wpfd-loading"},n)),!t&&a.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.fileInfo}}))}}])&&i(n.prototype,r),l&&i(n,l),t}();Object.defineProperty(l,"slug",{configurable:!0,enumerable:!0,writable:!0,value:"divi_wpfd_single_file"}),t.a=l},function(e,t,n){"use strict";var o=n(0),a=n.n(o),r=n(1);n.n(r);function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var c=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).state={categoryFilter:"1",tagFilter:"1",tagAs:"searchbox",creationDateFilter:"1",updateDateFilter:"1",pageFilter:"20",searchShortCode:"",searchLoading:!0,error:!1},n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e="on"===this.props.category_filter?"1":"0",t="on"===this.props.tag_filter?"1":"0",n=this.props.display_tag_as,o="on"===this.props.creation_date_filter?"1":"0",a="on"===this.props.update_date_filter?"1":"0",r=this.props.per_page_filter;this.fetSearchShortcode(e,t,n,o,a,r)}},{key:"componentDidUpdate",value:function(e,t,n){var o="on"===this.props.category_filter?"1":"0",a="on"===this.props.tag_filter?"1":"0",r=this.props.display_tag_as,i="on"===this.props.creation_date_filter?"1":"0",s="on"===this.props.update_date_filter?"1":"0",l=this.props.per_page_filter;this.state.categoryFilter.toString()===o.toString()&&this.state.tagFilter.toString()===a.toString()&&this.state.tagAs.toString()===r.toString()&&this.state.creationDateFilter.toString()===i.toString()&&this.state.updateDateFilter.toString()===s.toString()&&this.state.pageFilter.toString()===l.toString()||this.fetSearchShortcode(o,a,r,i,s,l)}},{key:"fetSearchShortcode",value:function(e,t,n,o,a,r){var i=this,s=this.state.searchLoading,l=window.et_fb_options.ajaxurl+"?action=wpfd&task=category.callSearchShortcode&categoryFilter="+e+"&tagFilter="+t+"&tagAs="+n+"&creationDateFilter="+o+"&updateDateFilter="+a+"&pageFilter="+r;s||this.setState({searchLoading:!0}),fetch(l).then(function(e){return e.json()}).then(function(s){i.setState({categoryFilter:e,tagFilter:t,tagAs:n,creationDateFilter:o,updateDateFilter:a,pageFilter:r,searchShortCode:s.data,searchLoading:!1})},function(e){i.setState({searchLoading:!0,error:e})})}},{key:"render",value:function(){var e=this.state.searchShortCode,t=this.state.searchLoading,n=a.a.createElement("svg",{className:"wpfd-loading",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},a.a.createElement("g",{transform:"translate(25 50)"},a.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.590851 0.590851)"},a.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.8666666666666667s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))),a.a.createElement("g",{transform:"translate(50 50)"},a.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.145187 0.145187)"},a.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.43333333333333335s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))),a.a.createElement("g",{transform:"translate(75 50)"},a.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.0339143 0.0339143)"},a.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"0s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))));return a.a.createElement("div",{className:"divi-search-container"},t&&a.a.createElement("div",{className:"wpfd-loading-wrapper"},a.a.createElement("i",{className:"wpfd-loading"},n)),!t&&a.a.createElement("div",{dangerouslySetInnerHTML:{__html:e}}))}}])&&s(n.prototype,r),i&&s(n,i),t}();Object.defineProperty(c,"slug",{configurable:!0,enumerable:!0,writable:!0,value:"divi_wpfd_search"}),t.a=c},function(e,t,n){"use strict";var o=n(17),a=n(18);t.a=[o.a,a.a]},function(e,t,n){"use strict";var o=n(0),a=n.n(o);function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=function(e){function t(e){var n,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,a=(t.__proto__||Object.getPrototypeOf(t)).call(this,e),n=!a||"object"!==r(a)&&"function"!==typeof a?s(o):a,Object.defineProperty(s(n),"_onChange",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){var o=t.split(" > ").join("---"),a={categoryId:e.toString(),categoryPath:o};n.props._onChange(n.props.name,JSON.stringify(a))}}),n.state={categoriesList:[],searchText:"",selectedCatName:"",selectedCatId:"",showCategoryList:!1,isManagingFocus:!1,showInput:!0,loading:!0,error:!1,preview:!1,chosen:!0,editCategoryLink:"#"},n.searchCategoryHandle=n.searchCategoryHandle.bind(s(n)),n.fetchCategories=n.fetchCategories.bind(s(n)),n.setSelectedCategoryId=n.setSelectedCategoryId.bind(s(n)),n.handleClickOutside=n.handleClickOutside.bind(s(n)),n}var n,l,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),n=t,(l=[{key:"componentDidMount",value:function(){var e=this.state.preview.isPreview,t=this.props.value;if(e?this.setState({preview:!0}):document.addEventListener("mousedown",this.handleClickOutside),"root"!==t){var n=JSON.parse(t).categoryId;this.fetchCategoryParams(n)}this.fetchEditCategory()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,o=n.categoriesList,a=n.showCategoryList;0===o.length&&a&&this.fetchCategories()}},{key:"handleClickOutside",value:function(e){var t=this.categoriesDropdown;t&&t.contains(e.target)||this.setState({showInput:!1,showCategoryList:!1})}},{key:"fetchCategories",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this,n=window.et_fb_options.ajaxurl+"?action=wpfd&task=categories.listCats";t.state.loading||t.setState({loading:!0}),fetch(n).then(function(e){return e.json()}).then(function(n){n.success?t.setState({categoriesList:n.data,loading:!1,showInput:e,showCategoryList:e}):t.setState({loading:!1,error:!0})}).catch(function(e){t.setState({loading:!1,error:!0})}),this.state.error&&this.setState({error:!1})}},{key:"fetchCategoryParams",value:function(e){var t=this;e&&(t.state.loading||t.setState({loading:!0}),fetch(window.et_fb_options.ajaxurl+"?action=wpfd&task=category.getCategoryParams&categoryId="+e).then(function(e){return e.json()}).then(function(e){t.setState({selectedCatName:e.data.title,loading:!1})},function(e){t.setState({loading:!1,error:!0})}))}},{key:"fetchEditCategory",value:function(){var e=this;fetch(window.et_fb_options.ajaxurl+"?action=wpfd&task=category.editCategoryLink").then(function(e){return e.json()}).then(function(t){e.setState({editCategoryLink:t.data})},function(t){e.setState({error:!0})})}},{key:"setSelectedCategoryId",value:function(e,t,n){this.setState({selectedCatId:e,shoswCategoryList:!1,searchText:t,selectedCatName:t,showInput:!1}),this._onChange(e,n)}},{key:"searchCategoryHandle",value:function(e){var t=e.target.value;this.setState({searchText:t,showCategoryList:!0})}},{key:"render",value:function(){var e,t=this,n=a.a.createElement("svg",{className:"dashicon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),r=a.a.createElement("svg",{className:"wpfd-loading",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},a.a.createElement("g",{transform:"translate(25 50)"},a.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.590851 0.590851)"},a.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.8666666666666667s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))),a.a.createElement("g",{transform:"translate(50 50)"},a.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.145187 0.145187)"},a.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.43333333333333335s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))),a.a.createElement("g",{transform:"translate(75 50)"},a.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.0339143 0.0339143)"},a.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"0s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"})))),i=this.state,s=i.categoriesList,l=i.searchText,c=i.selectedCatName,u=i.showCategoryList,f=i.showInput,d=i.loading,p=i.preview,m=i.editCategoryLink,h="root"!==this.props.value?JSON.parse(this.props.value).categoryId:this.state.selectedCatId;e=s.filter(function(e){return"undefined"===typeof l||(l.toLowerCase().indexOf("wpfd_category")>=0||e.name.toLowerCase().indexOf(l.toLowerCase())>=0)});var y="root"!==this.props.value?JSON.parse(this.props.value).categoryPath.split("---").join(" > "):"";return p?a.a.createElement("img",{alt:"WP File Download Category",width:"100%",src:"data:image/png;base64,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"}):a.a.createElement(o.Fragment,null,a.a.createElement("div",{className:"wpfd-category-module"},a.a.createElement("div",{className:"wpfd-category-search"},f?a.a.createElement(o.Fragment,null,a.a.createElement("textarea",{type:"text",value:"root"!==this.props.value&&!0===this.state.chosen?c:l,className:"editor-plain-text input-control",id:"wpfd-category",placeholder:"Search for file category\u2026",onFocus:function(){return t.setState({showCategoryList:!0,showInput:!0,searchText:"",loading:!0,selectedCatName:"",categoriesList:[],chosen:!1})},onChange:this.searchCategoryHandle}),"root"!==this.props.value&&a.a.createElement("div",{className:"wpfd-selected-category-name"},"FILE CATEGORY: ",a.a.createElement("span",null,y)),a.a.createElement("div",{className:"wpfd-edit-category"},a.a.createElement("a",{href:m,target:"_blank"},"manage files")),u&&a.a.createElement("div",{className:"categories-dropdown",ref:function(e){return t.categoriesDropdown=e}},d?a.a.createElement("div",{className:"wpfd-loading-wrapper"},a.a.createElement("div",{className:"wpfd-loading"},r)):a.a.createElement("ul",null,s.length>0?e.length>0?e.map(function(e,o){var r="undefined"!==typeof s[o+1]&&s[o+1].level>e.level&&s[o+1].level>0,i=12*e.level;r||(i+=14);var l="";return parseInt(h)===parseInt(e.term_id)&&(l="active"),a.a.createElement("li",{key:o,className:"wpfd-category cat-lv-".concat(e.level," ").concat(l),style:{paddingLeft:i+"px"},"data-id-category":e.term_id,"data-id-parent":e.parent,"data-cloud-type":e.cloudType,"data-level":e.level,onClick:function(){return t.setSelectedCategoryId(e.term_id,e.name,e.path)}},e.level<16&&r&&a.a.createElement("span",{className:"wpfd-toggle-expand"}),e.cloudType===e.term_id||!1===e.cloudType?a.a.createElement("i",{className:"default-icon"},n):a.a.createElement("i",{className:e.cloudType.toString().replace("_","-")+"-icon"}),a.a.createElement("span",{className:"wpfd-category-name"},e.name))}):a.a.createElement("li",null,"No file category found with this name\u2026"):a.a.createElement("li",null,"No category found!")))):a.a.createElement(o.Fragment,null,a.a.createElement("textarea",{value:l,className:"editor-plain-text input-control",id:"wpfd-category",placeholder:"Click here to select a category",onFocus:function(){return t.setState({showCategoryList:!0,showInput:!0,searchText:"",loading:!0,selectedCatname:"",categoriesList:[],chosen:!1})},onBlur:function(){return t.setState({showCategoryList:!1,showInput:!1,loading:!1,searchText:"",selectedCatName:t.state.selectedCatName,categoriesList:[]})},onChange:function(){}}),"root"!==this.props.value&&a.a.createElement("div",{className:"wpfd-selected-category-name"},"FILE CATEGORY: ",a.a.createElement("span",null,y)),a.a.createElement("div",{className:"wpfd-edit-category"},a.a.createElement("a",{href:m,target:"_blank"},"manage files"))))))}}])&&i(n.prototype,l),c&&i(n,c),t}();Object.defineProperty(l,"slug",{configurable:!0,enumerable:!0,writable:!0,value:"wpfd_category_button"}),t.a=l},function(e,t,n){"use strict";var o=n(0),a=n.n(o),r=n(19),i=n.n(r);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=function(e){function t(e){var n,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,a=(t.__proto__||Object.getPrototypeOf(t)).call(this,e),n=!a||"object"!==s(a)&&"function"!==typeof a?c(o):a,Object.defineProperty(c(n),"_onChange",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t,o){var a={selected_file_id:e,selected_category_id:t,selected_file_name:o,categoryPath:""!==n.state.categoryPath&&void 0!==n.state.categoryPath?n.state.categoryPath.split(" > ").join("---"):""},r=JSON.stringify(a);n.props._onChange(n.props.name,r)}}),n.state={filesList:[],categoriesList:[],shortcode:"",selectedFileId:"",filename:null,fileHoverId:null,categorySeletedId:null,isOpenModal:!1,loading:!0,fileLoading:!1,error:!1,fileError:!1,fileClasses:"",categoryPath:"",editCategoryLink:"#"},n.fetchCategories=n.fetchCategories.bind(c(n)),n.fetchFiles=n.fetchFiles.bind(c(n)),n.openModal=n.openModal.bind(c(n)),n.updateInput=n.updateInput.bind(c(n)),n.setSelectedFile=n.setSelectedFile.bind(c(n)),n}var n,r,u;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){this.fetchEditCategory()}},{key:"componentDidUpdate",value:function(e,t,n){var o=this.props.value,a=this.state,r=a.categoryPath,i=a.categoriesList;if("root"===o.toString()&&""===r&&i.length>0)this.setState({categoryPath:i[0].path});else if("root"!==o.toString()&&""===r&&i.length>0){var s=JSON.parse(o).selected_category_id,l=i.filter(function(e){return parseInt(e.term_id)===parseInt(s)});l&&this.setState({categoryPath:l.path})}}},{key:"updateInput",value:function(e){var t=e.target.value;this.setState({shortcode:t,isOpenModal:!1})}},{key:"openModal",value:function(){this.setState({isOpenModal:!0});var e=this.state.categoriesList,t="root"!==this.props.value?JSON.parse(this.props.value).selected_category_id:this.state.categorySeletedId,n="root"!==this.props.value?JSON.parse(this.props.value).selected_file_id:this.state.selectedFileId;0===e.length?this.fetchCategories():t&&n&&(this.setState({categorySelectedId:t,fileHoverId:n,fileLoading:!0}),this.fetchFiles(t))}},{key:"fetchCategories",value:function(){var e=this,t="root"!==this.props.value?JSON.parse(this.props.value).selected_category_id:this.state.categorySeletedId,n="root"!==this.props.value?JSON.parse(this.props.value).selected_file_id:this.state.selectedFileId,o=window.et_fb_options.ajaxurl+"?action=wpfd&task=categories.listCats";this.state.error&&this.setState({error:!1}),e.state.loading||e.setState({loading:!0}),fetch(o).then(function(e){return e.json()}).then(function(o){if(!1===o.success)e.setState({loading:!1,error:!0});else if(e.setState({categoriesList:o.data,loading:!1}),t&&n)e.setState({categorySelectedId:t,fileHoverId:n,fileLoading:!0}),e.fetchFiles(t);else if(o.data.length>0){var a=o.data[0].term_id;e.setState({categorySelectedId:a,fileLoading:!0}),e.fetchFiles(a)}}).catch(function(t){e.setState({loading:!1,error:!0})})}},{key:"fetchFiles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this,o=window.et_fb_options.ajaxurl+"?action=wpfd&view=files&format=json&id_category=".concat(e);this.setState({categoryPath:t}),this.state.fileError&&this.setState({fileError:!1}),this.setState({categorySelectedId:e,fileClasses:"wpfd-animation-enter"}),n.state.fileLoading||n.setState({fileLoading:!0}),e&&fetch(o).then(function(e){return e.json()}).then(function(e){!1===e.success?n.setState({fileLoading:!1,fileError:!0}):(n.setState({filesList:e.data,fileLoading:!1,fileClasses:"wpfd-animation-enter"}),setTimeout(function(){n.setState({fileClasses:"wpfd-animation-enter wpfd-animation-enter-active"})},250))}).catch(function(e){n.setState({fileLoading:!1,fileError:!0})})}},{key:"fetchEditCategory",value:function(){var e=this;fetch(window.et_fb_options.ajaxurl+"?action=wpfd&task=category.editCategoryLink").then(function(e){return e.json()}).then(function(t){e.setState({editCategoryLink:t.data})},function(t){e.setState({error:!0})})}},{key:"setSelectedFile",value:function(e){var t=e.id,n=e.name.replace("[","&amp;#91;").replace("]","&amp;#93;"),o=e.term_id,a="".concat(n);this.setState({selectedFile:e,filename:n,isOpenModal:!1,shortcode:a}),this._onChange(t,o,n)}},{key:"render",value:function(){var e=this,t=this.state,n=t.categoriesList,r=t.filesList,s=t.categorySelectedId,l=t.shortcode,c=t.isOpenModal,u=t.loading,f=t.fileClasses,d=t.fileLoading,p=t.editCategoryLink,m=a.a.createElement("svg",{className:"dashicon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),h=a.a.createElement("svg",{className:"wpfd-loading",width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},a.a.createElement("g",{transform:"translate(25 50)"},a.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.590851 0.590851)"},a.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.8666666666666667s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))),a.a.createElement("g",{transform:"translate(50 50)"},a.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.145187 0.145187)"},a.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.43333333333333335s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"}))),a.a.createElement("g",{transform:"translate(75 50)"},a.a.createElement("circle",{cx:"0",cy:"0",r:"10",fill:"#cfcfcf",transform:"scale(0.0339143 0.0339143)"},a.a.createElement("animateTransform",{attributeName:"transform",type:"scale",begin:"0s",calcMode:"spline",keySplines:"0.3 0 0.7 1;0.3 0 0.7 1",values:"0.5;1;0.5",keyTimes:"0;0.5;1",dur:"2.6s",repeatCount:"indefinite"})))),y=a.a.createElement("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},a.a.createElement("path",{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"})),v="root"!==this.props.value?JSON.parse(this.props.value).categoryPath.split("---").join(" > "):"",g="root"!==this.props.value?JSON.parse(this.props.value).selected_file_name:"";return a.a.createElement(o.Fragment,null,a.a.createElement("div",{className:"wpfd-file-module wpfd-file-block"},a.a.createElement("div",{className:"wpfd-file-search"},a.a.createElement(o.Fragment,null,a.a.createElement("input",{type:"text",value:"root"!==this.props.value?g:l,className:"editor-plain-text input-control",placeholder:"Please select a file",readOnly:!0,onChange:this.updateInput}),a.a.createElement("button",{type:"button",className:"wpfd-browse-files wpfd-button wpfd-material-button",onClick:function(){return e.openModal()}},"Choose File"))),"root"!==this.props.value&&a.a.createElement("div",{className:"wpfd-selected-category-name"},"FILE CATEGORY: ",a.a.createElement("span",null,v)),a.a.createElement("div",{className:"wpfd-edit-category"},a.a.createElement("a",{href:p,target:"_blank"},"manage files"))),a.a.createElement(i.a,{className:"wpfd-divi-modal",isOpen:c,contentLabel:"WP File Download",ariaHideApp:!1,onRequestClose:function(){return e.setState({isOpenModal:!1})},parentSelector:function(){return window.parent.document.querySelector("body")},style:{content:{backgroundColor:"rgb(255, 255, 255)",width:"90%",margin:"0 auto",borderRadius:"8px",boxSizing:"border-box",padding:"0 24px 24px"}}},u?a.a.createElement("div",{className:"wpfd-loading-wrapper"},a.a.createElement("i",{className:"wpfd-loading"},h)):a.a.createElement("div",{className:"wpfd-modal-container"},a.a.createElement("div",{className:"wpfd-modal-header"},a.a.createElement("div",{className:"wpfd-modal-header-container"},a.a.createElement("h1",{id:"modal-header-label",className:"modal-header-label"},"WP File Download")),a.a.createElement("button",{type:"button",className:"wpfd-modal-button main-home-parents has-icon","aria-label":"Close dialog",onClick:function(){return e.setState({isOpenModal:!1})}},y)),a.a.createElement("div",{className:"wpfd-modal-content"},a.a.createElement("div",{className:"wpfd-modal-left-panel"},a.a.createElement("div",{className:"categories-dropdown"},a.a.createElement("ul",null,n.length>0?n.map(function(t,o){var r="undefined"!==typeof n[o+1]&&n[o+1].level>0&&n[o+1].level>t.level,i=12*t.level;return r||(i+=14),a.a.createElement("li",{key:o,className:"wpfd-category cate-lv-".concat(t.level," ").concat(t.term_id===s?"active":""),style:{paddingLeft:i+"px"},"data-id-category":t.term_id,"data-id-parent":t.parent,"data-cloud-type":t.cloudType,"data-level":t.level,onClick:function(){return e.fetchFiles(t.term_id,t.path)}},t.level<16&&r&&a.a.createElement("span",{className:"wpfd-toggle-expand"}),t.cloudType===t.term_id||!1===t.cloudType?a.a.createElement("i",null,m):a.a.createElement("i",{className:t.cloudType.toString().replace(" ","-")+"-icon"}),a.a.createElement("span",{className:"wpfd-category-name"},t.name))}):a.a.createElement("div",{className:"wpfd-nothing-found"},"No category found!")))),a.a.createElement("div",{className:"wpfd-modal-right-panel"},d&&a.a.createElement("div",{className:"wpfd-loading-wrapper"},a.a.createElement("i",{className:"wpfd-loading"},h)),a.a.createElement("div",{className:f},r.length>0?a.a.createElement("ul",{className:"wpfd-files-wrapper"},r.map(function(t,n){var o="ext ext-".concat(t.ext);return a.a.createElement("li",{key:n,className:"wpfd-file",onMouseOver:function(){return e.setState({fileHoverId:t.id})}},a.a.createElement("div",{className:o},a.a.createElement("span",{className:"txt"},t.ext)),a.a.createElement("div",{className:"file_info"},a.a.createElement("h3",{className:"file_title"},t.name),a.a.createElement("span",{className:"file_size"},a.a.createElement("strong",null,"Size:")," ",t.size),a.a.createElement("span",{className:"file_created"},a.a.createElement("strong",null,"Date added:")," ",t.created)),a.a.createElement("div",{className:"file_buttons"},a.a.createElement("button",{type:"button",className:"wpfd-button orange-outline-button",onClick:function(){return e.setSelectedFile(t)}},"Insert this file")))})):a.a.createElement("div",{className:"nothing-file-found!"},"There is no file in this category yet!")))))))}}])&&l(n.prototype,r),u&&l(n,u),t}();Object.defineProperty(u,"slug",{configurable:!0,enumerable:!0,writable:!0,value:"wpfd_file"}),t.a=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(20),r=(o=a)&&o.__esModule?o:{default:o};t.default=r.default,e.exports=t.default},function(e,t,n){"use strict";function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),s=h(i),l=h(n(21)),c=h(n(3)),u=h(n(24)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)),d=n(2),p=h(d),m=n(31);function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==o(t)&&"function"!==typeof t?e:t}var v=t.portalClassName="ReactModalPortal",g=t.bodyOpenClassName="ReactModal__Body--open",b=void 0!==l.default.createPortal,w=function(){return b?l.default.createPortal:l.default.unstable_renderSubtreeIntoContainer};function E(e){return e()}var C=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),c=0;c<r;c++)i[c]=arguments[c];return n=o=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.removePortal=function(){!b&&l.default.unmountComponentAtNode(o.node);var e=E(o.props.parentSelector);e?e.removeChild(o.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},o.portalRef=function(e){o.portal=e},o.renderPortal=function(e){var n=w()(o,s.default.createElement(u.default,a({defaultStyles:t.defaultStyles},e)),o.node);o.portalRef(n)},y(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+o(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(b||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,E(this.props.parentSelector).appendChild(this.node),!b&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:E(e.parentSelector),nextParent:E(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(d.canUseDOM){var o=this.props,a=o.isOpen,r=o.portalClassName;e.portalClassName!==r&&(this.node.className=r);var i=n.prevParent,s=n.nextParent;s!==i&&(i.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||a)&&!b&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&b?(!this.node&&b&&(this.node=document.createElement("div")),w()(s.default.createElement(u.default,a({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){f.setElement(e)}}]),t}();C.propTypes={isOpen:c.default.bool.isRequired,style:c.default.shape({content:c.default.object,overlay:c.default.object}),portalClassName:c.default.string,bodyOpenClassName:c.default.string,htmlOpenClassName:c.default.string,className:c.default.oneOfType([c.default.string,c.default.shape({base:c.default.string.isRequired,afterOpen:c.default.string.isRequired,beforeClose:c.default.string.isRequired})]),overlayClassName:c.default.oneOfType([c.default.string,c.default.shape({base:c.default.string.isRequired,afterOpen:c.default.string.isRequired,beforeClose:c.default.string.isRequired})]),appElement:c.default.instanceOf(p.default),onAfterOpen:c.default.func,onRequestClose:c.default.func,closeTimeoutMS:c.default.number,ariaHideApp:c.default.bool,shouldFocusAfterRender:c.default.bool,shouldCloseOnOverlayClick:c.default.bool,shouldReturnFocusAfterClose:c.default.bool,parentSelector:c.default.func,aria:c.default.object,data:c.default.object,role:c.default.string,contentLabel:c.default.string,shouldCloseOnEsc:c.default.bool,overlayRef:c.default.func,contentRef:c.default.func},C.defaultProps={isOpen:!1,portalClassName:v,bodyOpenClassName:g,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},C.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,m.polyfill)(C),t.default=C},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";var o=n(23);function a(){}function r(){}r.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,r,i){if(i!==o){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r="function"===typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return o(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":o(e)},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),l=v(s),c=v(n(3)),u=y(n(25)),f=v(n(26)),d=y(n(5)),p=y(n(29)),m=v(n(2)),h=v(n(7));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}n(30);var g={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},b=9,w=27,E=0,C=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==o(t)&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,o=e.ariaHideApp,a=e.htmlOpenClassName,r=e.bodyOpenClassName;r&&p.remove(document.body,r),a&&p.remove(document.getElementsByTagName("html")[0],a),o&&E>0&&0===(E-=1)&&d.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(u.returnFocus(),u.teardownScopedFocus()):u.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),h.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(u.setupScopedFocus(n.node),u.markForFocusLater()),n.setState({isOpen:!0},function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){e.keyCode===b&&(0,f.default)(n.content,e),n.props.shouldCloseOnEsc&&e.keyCode===w&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var o="object"===("undefined"===typeof t?"undefined":r(t))?t:{base:g[e],afterOpen:g[e]+"--after-open",beforeClose:g[e]+"--before-close"},a=o.base;return n.state.afterOpen&&(a=a+" "+o.afterOpen),n.state.beforeClose&&(a=a+" "+o.beforeClose),"string"===typeof t&&t?a+" "+t:a},n.attributesFromObject=function(e,t){return Object.keys(t).reduce(function(n,o){return n[e+"-"+o]=t[o],n},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+o(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,o=e.htmlOpenClassName,a=e.bodyOpenClassName;a&&p.add(document.body,a),o&&p.add(document.getElementsByTagName("html")[0],o),n&&(E+=1,d.hide(t)),h.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,o=e.overlayClassName,r=e.defaultStyles,i=n?{}:r.content,s=o?{}:r.overlay;return this.shouldBeClosed()?null:l.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",o),style:a({},s,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},l.default.createElement("div",a({id:t,ref:this.setContentRef,style:a({},i,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}();C.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},C.propTypes={isOpen:c.default.bool.isRequired,defaultStyles:c.default.shape({content:c.default.object,overlay:c.default.object}),style:c.default.shape({content:c.default.object,overlay:c.default.object}),className:c.default.oneOfType([c.default.string,c.default.object]),overlayClassName:c.default.oneOfType([c.default.string,c.default.object]),bodyOpenClassName:c.default.string,htmlOpenClassName:c.default.string,ariaHideApp:c.default.bool,appElement:c.default.instanceOf(m.default),onAfterOpen:c.default.func,onAfterClose:c.default.func,onRequestClose:c.default.func,closeTimeoutMS:c.default.number,shouldFocusAfterRender:c.default.bool,shouldCloseOnOverlayClick:c.default.bool,shouldReturnFocusAfterClose:c.default.bool,role:c.default.string,contentLabel:c.default.string,aria:c.default.object,data:c.default.object,children:c.default.node,shouldCloseOnEsc:c.default.bool,overlayRef:c.default.func,contentRef:c.default.func,id:c.default.string,testId:c.default.string},t.default=C,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=c,t.handleFocus=u,t.markForFocusLater=function(){i.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==i.length&&(e=i.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){i.length>0&&i.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",u))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",u))};var o,a=n(4),r=(o=a)&&o.__esModule?o:{default:o};var i=[],s=null,l=!1;function c(){l=!0}function u(){if(l){if(l=!1,!s)return;setTimeout(function(){s.contains(document.activeElement)||((0,r.default)(s)[0]||s).focus()},0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,r.default)(e);if(!n.length)return void t.preventDefault();var o=void 0,a=t.shiftKey,i=n[0],s=n[n.length-1];if(e===document.activeElement){if(!a)return;o=s}s!==document.activeElement||a||(o=i);i===document.activeElement&&a&&(o=s);if(o)return t.preventDefault(),void o.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==l||"Chrome"==l[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var c=n.indexOf(document.activeElement);c>-1&&(c+=a?-1:1);if("undefined"===typeof(o=n[c]))return t.preventDefault(),void(o=a?s:i).focus();t.preventDefault(),o.focus()};var o,a=n(4),r=(o=a)&&o.__esModule?o:{default:o};e.exports=t.default},function(e,t,n){"use strict";var o=function(){};e.exports=o},function(e,t,n){var o;function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){"use strict";var r=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen};"object"===a(n(6))&&n(6)?void 0===(o=function(){return i}.call(t,n,t,e))||(e.exports=o):"undefined"!==typeof e&&e.exports?e.exports=i:window.ExecutionEnvironment=i}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){};var o={},a={};t.add=function(e,t){return n=e.classList,r="html"==e.nodeName.toLowerCase()?o:a,void t.split(" ").forEach(function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(r,e),n.add(e)});var n,r},t.remove=function(e,t){return n=e.classList,r="html"==e.nodeName.toLowerCase()?o:a,void t.split(" ").forEach(function(e){!function(e,t){e[t]&&(e[t]-=1)}(r,e),0===r[e]&&n.remove(e)});var n,r}},function(e,t,n){"use strict";var o,a=n(7);var r=void 0,i=void 0,s=[];function l(){0!==s.length&&s[s.length-1].focusContent()}((o=a)&&o.__esModule?o:{default:o}).default.subscribe(function(e,t){r&&i||((r=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",l),(i=r.cloneNode()).addEventListener("focus",l)),(s=t).length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==i&&document.body.appendChild(i)):(r.parentElement&&r.parentElement.removeChild(r),i.parentElement&&i.parentElement.removeChild(i))})},function(e,t,n){"use strict";function o(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function a(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function r(e,t){try{var n=this.props,o=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==i||null!==s){var l=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=o,t.componentWillReceiveProps=a),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=r;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,o)}}return e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"polyfill",function(){return i}),o.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0}]);